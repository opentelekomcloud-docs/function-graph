:original_name: functiongraph_06_0113.html

.. _functiongraph_06_0113:

Querying the Versions of a Function
===================================

Function
--------

This API is used to query the versions of a function.

URI
---

GET /v2/{project_id}/fgs/functions/{function_urn}/versions

.. table:: **Table 1** Path Parameters

   +--------------+-----------+--------+-------------------------------------------------------------------------------------+
   | Parameter    | Mandatory | Type   | Description                                                                         |
   +==============+===========+========+=====================================================================================+
   | project_id   | Yes       | String | Project ID. For details, see :ref:`Obtaining a Project ID <functiongraph_06_0260>`. |
   +--------------+-----------+--------+-------------------------------------------------------------------------------------+
   | function_urn | Yes       | String | Function URN. For details, see the function model description.                      |
   +--------------+-----------+--------+-------------------------------------------------------------------------------------+

.. table:: **Table 2** Query Parameters

   +-----------+-----------+--------+-----------------------------------------------------+
   | Parameter | Mandatory | Type   | Description                                         |
   +===========+===========+========+=====================================================+
   | marker    | No        | String | Final record queried last time.                     |
   +-----------+-----------+--------+-----------------------------------------------------+
   | maxitems  | No        | String | Maximum number of functions to obtain in a request. |
   +-----------+-----------+--------+-----------------------------------------------------+

Request Parameters
------------------

.. table:: **Table 3** Request header parameters

   +-----------------+-----------------+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter       | Mandatory       | Type            | Description                                                                                                                                   |
   +=================+=================+=================+===============================================================================================================================================+
   | X-Auth-Token    | Yes             | String          | User token.                                                                                                                                   |
   |                 |                 |                 |                                                                                                                                               |
   |                 |                 |                 | It can be obtained by calling the IAM API used to obtain a user token. The value of X-Subject-Token in the response header is the user token. |
   +-----------------+-----------------+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------+
   | Content-Type    | Yes             | String          | Message body type (format).                                                                                                                   |
   +-----------------+-----------------+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------+

Response Parameters
-------------------

**Status code: 200**

.. table:: **Table 4** Response body parameters

   +-------------+---------------------------------------------------------------------------------------------------------------+---------------------------+
   | Parameter   | Type                                                                                                          | Description               |
   +=============+===============================================================================================================+===========================+
   | versions    | Array of :ref:`ListFunctionVersionResult <functiongraph_06_0113__response_listfunctionversionresult>` objects | Version list.             |
   +-------------+---------------------------------------------------------------------------------------------------------------+---------------------------+
   | next_marker | Long                                                                                                          | Next record location.     |
   +-------------+---------------------------------------------------------------------------------------------------------------+---------------------------+
   | count       | Long                                                                                                          | Total number of versions. |
   +-------------+---------------------------------------------------------------------------------------------------------------+---------------------------+

.. _functiongraph_06_0113__response_listfunctionversionresult:

.. table:: **Table 5** ListFunctionVersionResult

   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter                   | Type                                                                                    | Description                                                                                                                                                                                                                                                                                                                                                                                                   |
   +=============================+=========================================================================================+===============================================================================================================================================================================================================================================================================================================================================================================================================+
   | func_urn                    | String                                                                                  | Function URN.                                                                                                                                                                                                                                                                                                                                                                                                 |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | func_name                   | String                                                                                  | Function name.                                                                                                                                                                                                                                                                                                                                                                                                |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | domain_id                   | String                                                                                  | Domain ID.                                                                                                                                                                                                                                                                                                                                                                                                    |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | namespace                   | String                                                                                  | Project ID.                                                                                                                                                                                                                                                                                                                                                                                                   |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | project_name                | String                                                                                  | Project name.                                                                                                                                                                                                                                                                                                                                                                                                 |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | package                     | String                                                                                  | Group to which the function belongs. This field is defined to group functions.                                                                                                                                                                                                                                                                                                                                |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | runtime                     | String                                                                                  | Environment for executing a function. Options: Python2.7 Python 3.6 Python 3.9 Go 1.8 Go 1.x Java 8 Java 11 Node.js 6.10 Node.js 8.10 Node.js 10.16 Node.js 12.13 Node.js 14.18 C# (.NET Core 2.0) C# (.NET Core 2.1) C# (.NET Core 3.1) Custom PHP 7.3 HTTP Custom image-based functions                                                                                                                     |
   |                             |                                                                                         |                                                                                                                                                                                                                                                                                                                                                                                                               |
   |                             |                                                                                         | Enumeration values:                                                                                                                                                                                                                                                                                                                                                                                           |
   |                             |                                                                                         |                                                                                                                                                                                                                                                                                                                                                                                                               |
   |                             |                                                                                         | -  **Java8**                                                                                                                                                                                                                                                                                                                                                                                                  |
   |                             |                                                                                         | -  **Java11**                                                                                                                                                                                                                                                                                                                                                                                                 |
   |                             |                                                                                         | -  **Node.js6.10**                                                                                                                                                                                                                                                                                                                                                                                            |
   |                             |                                                                                         | -  **Node.js8.10**                                                                                                                                                                                                                                                                                                                                                                                            |
   |                             |                                                                                         | -  **Node.js10.16**                                                                                                                                                                                                                                                                                                                                                                                           |
   |                             |                                                                                         | -  **Node.js12.13**                                                                                                                                                                                                                                                                                                                                                                                           |
   |                             |                                                                                         | -  **Node.js14.18**                                                                                                                                                                                                                                                                                                                                                                                           |
   |                             |                                                                                         | -  **Python2.7**                                                                                                                                                                                                                                                                                                                                                                                              |
   |                             |                                                                                         | -  **Python3.6**                                                                                                                                                                                                                                                                                                                                                                                              |
   |                             |                                                                                         | -  **Go1.8**                                                                                                                                                                                                                                                                                                                                                                                                  |
   |                             |                                                                                         | -  **Go1.x**                                                                                                                                                                                                                                                                                                                                                                                                  |
   |                             |                                                                                         | -  **C#(.NET Core 2.0)**                                                                                                                                                                                                                                                                                                                                                                                      |
   |                             |                                                                                         | -  **C#(.NET Core 2.1)**                                                                                                                                                                                                                                                                                                                                                                                      |
   |                             |                                                                                         | -  **C#(.NET Core 3.1)**                                                                                                                                                                                                                                                                                                                                                                                      |
   |                             |                                                                                         | -  **Custom**                                                                                                                                                                                                                                                                                                                                                                                                 |
   |                             |                                                                                         | -  **PHP7.3**                                                                                                                                                                                                                                                                                                                                                                                                 |
   |                             |                                                                                         | -  **Python3.9**                                                                                                                                                                                                                                                                                                                                                                                              |
   |                             |                                                                                         | -  **http**                                                                                                                                                                                                                                                                                                                                                                                                   |
   |                             |                                                                                         | -  **Custom Image**                                                                                                                                                                                                                                                                                                                                                                                           |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | timeout                     | Integer                                                                                 | Maximum duration the function can be executed. Value range: 3s-259,200s.                                                                                                                                                                                                                                                                                                                                      |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | handler                     | String                                                                                  | Handler of a function in the format of "xx.xx". It must contain a period (.).                                                                                                                                                                                                                                                                                                                                 |
   |                             |                                                                                         |                                                                                                                                                                                                                                                                                                                                                                                                               |
   |                             |                                                                                         | For example, for Node.js function myfunction.handler, the file name is myfunction.js, and the handler function is handler.                                                                                                                                                                                                                                                                                    |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | memory_size                 | Integer                                                                                 | Memory consumed by a function.                                                                                                                                                                                                                                                                                                                                                                                |
   |                             |                                                                                         |                                                                                                                                                                                                                                                                                                                                                                                                               |
   |                             |                                                                                         | Unit: MB.                                                                                                                                                                                                                                                                                                                                                                                                     |
   |                             |                                                                                         |                                                                                                                                                                                                                                                                                                                                                                                                               |
   |                             |                                                                                         | The value can be 128, 256, 512, 768, 1024, 1280, 1536, 1792, 2048, 2560, 3072, 3584 or 4096.                                                                                                                                                                                                                                                                                                                  |
   |                             |                                                                                         |                                                                                                                                                                                                                                                                                                                                                                                                               |
   |                             |                                                                                         | The value ranges from 128 to 4096.                                                                                                                                                                                                                                                                                                                                                                            |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | cpu                         | Integer                                                                                 | CPU resources of a function. Unit: millicore (1 core = 1000 millicores). The value of this field is proportional to that of MemorySize. By default, 100 CPU millicores are required for 128 MB memory.                                                                                                                                                                                                        |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | code_type                   | String                                                                                  | Function code type. Options: inline: inline code zip: ZIP file obs: function code stored in an OBS bucket jar: JAR file, mainly for Java functions Custom-Image-Swr: The function code comes from the SWR custom image.                                                                                                                                                                                       |
   |                             |                                                                                         |                                                                                                                                                                                                                                                                                                                                                                                                               |
   |                             |                                                                                         | Enumeration values:                                                                                                                                                                                                                                                                                                                                                                                           |
   |                             |                                                                                         |                                                                                                                                                                                                                                                                                                                                                                                                               |
   |                             |                                                                                         | -  **inline**                                                                                                                                                                                                                                                                                                                                                                                                 |
   |                             |                                                                                         | -  **zip**                                                                                                                                                                                                                                                                                                                                                                                                    |
   |                             |                                                                                         | -  **obs**                                                                                                                                                                                                                                                                                                                                                                                                    |
   |                             |                                                                                         | -  **jar**                                                                                                                                                                                                                                                                                                                                                                                                    |
   |                             |                                                                                         | -  **Custom-Image-Swr**                                                                                                                                                                                                                                                                                                                                                                                       |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | code_url                    | String                                                                                  | If CodeType is set to obs, enter the OBS URL of the function code package. If CodeType is not set to obs, leave this parameter blank.                                                                                                                                                                                                                                                                         |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | code_filename               | String                                                                                  | Name of a function file. This parameter is mandatory only when CodeType is set to jar or zip.                                                                                                                                                                                                                                                                                                                 |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | code_size                   | Long                                                                                    | Code size in bytes.                                                                                                                                                                                                                                                                                                                                                                                           |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | user_data                   | String                                                                                  | Name/Value information defined for the function. These are parameters used in the function. For example, if a function needs to access a host, define Host={host_ip}. You can define a maximum of 20 such parameters, and their total length cannot exceed 4 KB.                                                                                                                                              |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | encrypted_user_data         | String                                                                                  | User-defined name/value to be encrypted.                                                                                                                                                                                                                                                                                                                                                                      |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | digest                      | String                                                                                  | SHA512 hash value of function code, which is used to determine whether the function has changed.                                                                                                                                                                                                                                                                                                              |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | version                     | String                                                                                  | Function version, which is automatically generated by the system. The version name is in the format of "vYYYYMMDD-HHMMSS" (v+year/month/day-hour/minute/second).                                                                                                                                                                                                                                              |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | image_name                  | String                                                                                  | Internal identifier of a function version.                                                                                                                                                                                                                                                                                                                                                                    |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | xrole                       | String                                                                                  | Agency used by the function. You need to create an agency on the IAM console. This field is mandatory when a function needs to access other services. After specifying a function execution agency, you can use the context method in the function handler to obtain a token, an AK, and an SK for accessing other cloud services. No agency is required if FunctionGraph does not access any cloud services. |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | app_xrole                   | String                                                                                  | Execution agency. You can optimize performance by configuring a separate agency for function execution, otherwise, the same agency is used for both execution and configuration.                                                                                                                                                                                                                              |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | last_modified               | String                                                                                  | Time when the function was last updated.                                                                                                                                                                                                                                                                                                                                                                      |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | func_vpc_id                 | String                                                                                  | VPC ID.                                                                                                                                                                                                                                                                                                                                                                                                       |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | concurrency                 | Integer                                                                                 | 0: A function is disabled. -1: A function is enabled.                                                                                                                                                                                                                                                                                                                                                         |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | concurrent_num              | Integer                                                                                 | Number of concurrent instances.                                                                                                                                                                                                                                                                                                                                                                               |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | strategy_config             | :ref:`StrategyConfig <functiongraph_06_0113__response_strategyconfig>` object           | Function policy configuration.                                                                                                                                                                                                                                                                                                                                                                                |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | initializer_handler         | String                                                                                  | Initializer of the function in the format of "xx.xx". It must contain a period (.). This parameter is mandatory when the initialization function is configured. For example, for Node.js function myfunction.initializer, the file name is myfunction.js, and the initialization function is initializer.                                                                                                     |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | initializer_timeout         | Integer                                                                                 | Maximum duration the function can be initialized. Value range: 1s-300s. This parameter is mandatory when the initialization function is configured.                                                                                                                                                                                                                                                           |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | pre_stop_handler            | String                                                                                  | The pre-stop handler of a function. The value must contain a period (.) in the format of xx.xx. For example, for Node.js function myfunction.pre_stop_handler, the file name is myfunction.js, and the initialization function is pre_stop_handler.                                                                                                                                                           |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | pre_stop_timeout            | Integer                                                                                 | Maximum duration the function can be initialized. Value range: 1s-90s.                                                                                                                                                                                                                                                                                                                                        |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | long_time                   | Boolean                                                                                 | Whether long-term running is supported.                                                                                                                                                                                                                                                                                                                                                                       |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | function_async_config       | :ref:`FunctionAsyncConfig <functiongraph_06_0113__response_functionasyncconfig>` object | Return struct of the asynchronous execution notification settings.                                                                                                                                                                                                                                                                                                                                            |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | type                        | String                                                                                  | Function version.                                                                                                                                                                                                                                                                                                                                                                                             |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | enable_dynamic_memory       | Boolean                                                                                 | Whether to enable dynamic memory allocation.                                                                                                                                                                                                                                                                                                                                                                  |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | enterprise_project_id       | String                                                                                  | Enterprise project ID. This parameter is mandatory if you create a function as an enterprise user.                                                                                                                                                                                                                                                                                                            |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | is_stateful_function        | Boolean                                                                                 | Whether stateful functions are supported. This parameter is supported in FunctionGraph v2.                                                                                                                                                                                                                                                                                                                    |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | enable_auth_in_header       | Boolean                                                                                 | Whether to allow authentication information in the request header.                                                                                                                                                                                                                                                                                                                                            |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | custom_image                | :ref:`CustomImage <functiongraph_06_0113__response_customimage>` object                 | Container image.                                                                                                                                                                                                                                                                                                                                                                                              |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | reserved_instance_idle_mode | Boolean                                                                                 | Whether to enable idle mode for reserved instances.                                                                                                                                                                                                                                                                                                                                                           |
   +-----------------------------+-----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _functiongraph_06_0113__response_strategyconfig:

.. table:: **Table 6** StrategyConfig

   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                                             |
   +=======================+=======================+=========================================================================================================================+
   | concurrency           | Integer               | Maximum number of instances for a single function. For v1, the value can be 0 or -1; for v2, it ranges from -1 to 1000. |
   |                       |                       |                                                                                                                         |
   |                       |                       | -  -1: The function has unlimited instances.                                                                            |
   |                       |                       | -  0: The function is disabled.                                                                                         |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------+
   | concurrent_num        | Integer               | Number of concurrent requests per instance. This parameter is supported only by v2. The value ranges from 1 to 1,000.   |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------+

.. _functiongraph_06_0113__response_functionasyncconfig:

.. table:: **Table 7** FunctionAsyncConfig

   +--------------------------------+-------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
   | Parameter                      | Type                                                                                                  | Description                                                                                                       |
   +================================+=======================================================================================================+===================================================================================================================+
   | max_async_event_age_in_seconds | Integer                                                                                               | Maximum validity period of a message. Value range: 60-86,400. Unit: second.                                       |
   +--------------------------------+-------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
   | max_async_retry_attempts       | Integer                                                                                               | Maximum number of retry attempts to be made if asynchronous invocation fails. Default value: 3. Value range: 0-8. |
   +--------------------------------+-------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
   | destination_config             | :ref:`FuncAsyncDestinationConfig <functiongraph_06_0113__response_funcasyncdestinationconfig>` object | Asynchronous invocation target.                                                                                   |
   +--------------------------------+-------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
   | created_time                   | String                                                                                                | Time when asynchronous execution notification was configured.                                                     |
   +--------------------------------+-------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
   | last_modified                  | String                                                                                                | Time when the asynchronous execution notification settings were last modified.                                    |
   +--------------------------------+-------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+

.. _functiongraph_06_0113__response_funcasyncdestinationconfig:

.. table:: **Table 8** FuncAsyncDestinationConfig

   +------------+---------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------+
   | Parameter  | Type                                                                                        | Description                                                                                           |
   +============+=============================================================================================+=======================================================================================================+
   | on_success | :ref:`FuncDestinationConfig <functiongraph_06_0113__response_funcdestinationconfig>` object | Target to be invoked when a function is successfully executed.                                        |
   +------------+---------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------+
   | on_failure | :ref:`FuncDestinationConfig <functiongraph_06_0113__response_funcdestinationconfig>` object | Target to be invoked when a function fails to be executed due to a system error or an internal error. |
   +------------+---------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------+

.. _functiongraph_06_0113__response_funcdestinationconfig:

.. table:: **Table 9** FuncDestinationConfig

   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                                                                                                                                           |
   +=======================+=======================+=======================================================================================================================================================================================================================+
   | destination           | String                | Object type.                                                                                                                                                                                                          |
   |                       |                       |                                                                                                                                                                                                                       |
   |                       |                       | -  OBS                                                                                                                                                                                                                |
   |                       |                       | -  SMN                                                                                                                                                                                                                |
   |                       |                       | -  FunctionGraph                                                                                                                                                                                                      |
   |                       |                       |                                                                                                                                                                                                                       |
   |                       |                       | Enumeration values:                                                                                                                                                                                                   |
   |                       |                       |                                                                                                                                                                                                                       |
   |                       |                       | -  **OBS**                                                                                                                                                                                                            |
   |                       |                       | -  **SMN**                                                                                                                                                                                                            |
   |                       |                       | -  **FunctionGraph**                                                                                                                                                                                                  |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | param                 | String                | Parameters (in JSON format) corresponding to the target service.                                                                                                                                                      |
   |                       |                       |                                                                                                                                                                                                                       |
   |                       |                       | -  OBS: Parameters related to the bucket name, object directory prefix, and object expiration time are included. The object expiration time ranges from 0 to 365 days. If the value is 0, the object will not expire. |
   |                       |                       | -  SMN: The topic_urn parameter is included.                                                                                                                                                                          |
   |                       |                       | -  FunctionGraph: The func_urn parameter is included.                                                                                                                                                                 |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _functiongraph_06_0113__response_customimage:

.. table:: **Table 10** CustomImage

   +-------------+---------+--------------------------------------------------------+
   | Parameter   | Type    | Description                                            |
   +=============+=========+========================================================+
   | enabled     | Boolean | Whether to enable this feature.                        |
   +-------------+---------+--------------------------------------------------------+
   | image       | String  | Image address.                                         |
   +-------------+---------+--------------------------------------------------------+
   | command     | String  | Command for starting a container image.                |
   +-------------+---------+--------------------------------------------------------+
   | args        | String  | Command line parameter for starting a container image. |
   +-------------+---------+--------------------------------------------------------+
   | working_dir | String  | Working directory of an image container.               |
   +-------------+---------+--------------------------------------------------------+
   | uid         | String  | User ID of an image container.                         |
   +-------------+---------+--------------------------------------------------------+
   | gid         | String  | User group ID of an image container.                   |
   +-------------+---------+--------------------------------------------------------+

**Status code: 400**

.. table:: **Table 11** Response body parameters

   ========== ====== ==============
   Parameter  Type   Description
   ========== ====== ==============
   error_code String Error code.
   error_msg  String Error message.
   ========== ====== ==============

**Status code: 401**

.. table:: **Table 12** Response body parameters

   ========== ====== ==============
   Parameter  Type   Description
   ========== ====== ==============
   error_code String Error code.
   error_msg  String Error message.
   ========== ====== ==============

**Status code: 403**

.. table:: **Table 13** Response body parameters

   ========== ====== ==============
   Parameter  Type   Description
   ========== ====== ==============
   error_code String Error code.
   error_msg  String Error message.
   ========== ====== ==============

**Status code: 404**

.. table:: **Table 14** Response body parameters

   ========== ====== ==============
   Parameter  Type   Description
   ========== ====== ==============
   error_code String Error code.
   error_msg  String Error message.
   ========== ====== ==============

**Status code: 500**

.. table:: **Table 15** Response body parameters

   ========== ====== ==============
   Parameter  Type   Description
   ========== ====== ==============
   error_code String Error code.
   error_msg  String Error message.
   ========== ====== ==============

Example Requests
----------------

Query functions.

.. code-block:: text

   GET https://{Endpoint}/v2/{project_id}/fgs/functions/{function_urn}/versions

Example Responses
-----------------

**Status code: 200**

OK

.. code-block::

   {
     "versions" : [ {
       "func_urn" : "urn:fss:xxxxxxxxxxx:7aad83af3e8d42e99ac194e8419e2c9b:function:default:test",
       "func_name" : "test",
       "domain_id" : "14ee2e3501124efcbca7998baa24xxxx",
       "namespace" : "46b6f338fc3445b8846c71dfb1fbxxxx",
       "project_name" : "xxxxx",
       "package" : "default",
       "runtime" : "Node.js6.10",
       "timeout" : 3,
       "handler" : "test.handler",
       "memory_size" : 128,
       "cpu" : 300,
       "code_type" : "inline",
       "code_filename" : "index.js",
       "code_size" : 272,
       "digest" : "faa825575c45437cddd4e369bea69893bcbe195d478178462ad90984fe72993f3f59d15f41c5373f807f3e05fb9af322c55dabeb16565c386e402413458e6068",
       "version" : "latest",
       "image_name" : "latest-191025153727@zehht",
       "last_modified" : "2019-10-25 15:37:27",
       "strategy_config" : {
         "concurrency" : 0
       }
     } ],
     "next_marker" : 5
   }

**Status code: 404**

Not found.

.. code-block::

   {
     "error_code" : "FSS.1051",
     "error_msg" : "Not found the function"
   }

Status Codes
------------

=========== ======================
Status Code Description
=========== ======================
200         OK
400         Bad request.
401         Unauthorized.
403         Forbidden.
404         Not found.
500         Internal server error.
=========== ======================

Error Codes
-----------

See :ref:`Error Codes <errorcode>`.
